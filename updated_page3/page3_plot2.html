<!DOCTYPE html>
<html>
<head>
  <title>Interactive Slider with D3.js</title>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
    .slider {
      width: 300px;
      margin: 0 auto;
    }
    .slider input {
      width: 100%;
    }
    .line {
      fill: none;
      stroke: steelblue;
      stroke-width: 2px;
    }
    .axis-label {
      font-family: sans-serif;
      font-size: 12px;
      font-weight: bold;
    }
    .axis path,
    .axis line {
      fill: none;
      stroke: #ccc;
      shape-rendering: crispEdges;
    }
    .axis text {
      font-family: sans-serif;
      font-size: 10px;
    }
  </style>
</head>
<body>
  <div class="slider">
    <p>Slider Label: <span id="sliderValue">0</span></p>
    <input type="range" min="0" max="0.9999" value="0.5" step="0.001" id="mySlider">
  </div>
  <svg width="500" height="300"></svg>

  <script>
    // Sample data
    const data = [2, 4, 6, 8, 10, 8, 6, 4, 2, 0];

    // Set up the SVG
    const svg = d3.select("svg");
    const margin = { top: 20, right: 20, bottom: 40, left: 60 };
    const width = +svg.attr("width") - margin.left - margin.right;
    const height = +svg.attr("height") - margin.top - margin.bottom;
    const g = svg.append("g").attr("transform", `translate(${margin.left}, ${margin.top})`);

    // Create the line generator
    const line = d3.line()
      .x((d, i) => i * (width / data.length))
      .y(d => height - d * 10);

    // Initial line plot
    const path = g.append("path")
      .datum(data)
      .attr("class", "line")
      .attr("d", line);

    // X-axis label
    g.append("text")
      .attr("class", "axis-label")
      .attr("text-anchor", "middle")
      .attr("transform", `translate(${width / 2}, ${height + margin.bottom - 10})`)
      .text("Alpha");

    // Y-axis label
    g.append("text")
      .attr("class", "axis-label")
      .attr("text-anchor", "middle")
      .attr("transform", `translate(${-margin.left + 10}, ${height / 2})rotate(-90)`)
      .text("Loss");

    // X-axis
    const xScale = d3.scaleLinear()
      .domain([1, 5])
      .range([0, width]);

    const xAxis = d3.axisBottom(xScale);

    g.append("g")
      .attr("class", "x-axis")
      .attr("transform", `translate(0, ${height})`)
      .call(xAxis);

    // Y-axis
    const yScale = d3.scaleLinear()
      .domain([100, 140])
      .range([height, 0]);

    const yAxis = d3.axisLeft(yScale);

    g.append("g")
      .attr("class", "y-axis")
      .call(yAxis);

    // Slider functionality
    const slider = d3.select("#mySlider");
    const sliderValue = d3.select("#sliderValue");
    slider.on("input", function() {
      const value = +this.value;
      sliderValue.text(value.toFixed(4));

      data[4] = value; // Update the data point at index 4

      // Update the line
      path.datum(data)
        .transition()
        .duration(300)
        .attr("d", line);
    });
  </script>
</body>
</html>
